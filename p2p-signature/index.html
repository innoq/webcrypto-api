<!DOCTYPE html>
<html lang="en">
<head>
	<script src="lib/p.js"></script>
	<script src="lib/jquery-2.1.3.min.js"></script>
	<script src="lib/alertify.js/js/alertify.js"></script>
	<link rel="stylesheet" href="lib/alertify.js/css/alertify-bootstrap-3.css">
	<link rel="stylesheet" href="style/bootstrap-3.3.2.min.css">
    <link rel="stylesheet" href="style/log.css">
	<script src="app.js"></script>
</head>
<body>
<div class="container">
  <h1>WebCrypto / Websockets Demo</h1>
  <p>This is a small single-page app for WebCrypto API demonstration purposes.</p>
  <p>Maybe you need multiple tabs of this page, therefore another <a href="#" id="change-bg">background-color</a> would be nice.</p>
<p>Used libs/apis (you will need a decent version of Chrome/Firefox):<ul>
	<li><a href="http://www.w3.org/TR/WebCryptoAPI/">WebCrypto API (W3C)</a></li>
	<li><a href="http://www.webrtc.org/">WebRTC</a> via <a href="http://ozan.io/p/">P</a></li>
	<li><a href="http://getbootstrap.com/">Bootstrap</a></li>
	<li><a href="http://jquery.com/">jQuery</a> (for the nasty stuff)</li></ul>
<p>For an initial conversation you will need a running <a href="https://github.com/oztu/onramp">onramp server</a>. This is a lightweight P implementation in node.js and can be installed via npm.</p>
	<h2>MITM</h2>
	<button id="mitm" class="btn btn-default">Activate MITM on this client</button>
	<h2>Key Generation</h2>
	<button id="generateKey" class="btn btn-default">Generate Key</button>
	<button id="clearKey" class="btn btn-default">Clear Key</button>
	<pre id="jwk-public-key">no key generated</pre>
    <h2>Peer Key Import</h2>
    <textarea class="form-control" id="peer-jwk" placeholder="JWK of your peer"></textarea>
    <button id="importKey" class="btn btn-default">Import Key</button>
    <h2>Websocket Server Communication</h2>
    <button id="connect-server" class="btn btn-default">connect to server</button>
    <input id="onramp-server" placeholder="ws://<server>:<port>">
    <button id="clear-server" class="btn btn-default">clear</button>
    <textarea readonly class="form-control" id="server-log" rows="5" style="max-height:150px;" placeholder="nothing is going on..."></textarea>
    <label for="connect-to">Connect to:</label>
    <input class="form-control" id="connect-to" placeholder="ID of the peer to connect">
    <button id="connect-peer" class="btn btn-default">connect</button>
    <h2>Websocket P2P Communication</h2>
    <div id="p2p-log"></div>
    <input class="form-control" id="message" placeholder="Message to send">
    <button id="send-message" class="btn btn-default">send</button>
</div>
</body>
</html>
